<div class="appointment-container mt-5">
  <div class="appointment-details">
    <h2><%= @appointment.reason %></h2>
    <p class="comments"><%= @appointment.comments %></p>
    <p class="location">
      <i class="fas fa-map-marker-alt"></i>
      <%= @appointment.service.veterinary.user.address %>
    </p>
    <% if current_user == @appointment.pet.user %>
      <p class="veterinary">
        <p>By <strong>Dr. <%= @appointment.service.veterinary.user.first_name %> <%= @appointment.service.veterinary.user.last_name%></strong></p>
      </p>
    <% end%>
    <span class="appointment-date">
      <i class="fas fa-calendar-alt" style="color: #FE8D36;"></i>
      <%= @appointment.datetime.strftime("%m.%d.%Y") %>
    </span>
    <span class="appointment-time">
      <i class="far fa-clock" style="color: #FE8D36; margin-left: 8px;"></i>
      <%= @appointment.datetime.strftime("%H:%M") %>
    </span>
    <hr class="mt-4">
    <div class="actions mt-4 d-flex justify-content-center">
      <% if current_user == @appointment.pet.user && @appointment.status == 'Scheduled' %>
        <%= button_to "Cancel", appointment_path(@appointment), method: :delete, data: { confirm: "Are you sure?" }, class: "orange-btn w-100 mx-3" %>
      <% elsif current_user.veterinary.present? %>
        <%= button_to "Mark as Completed", appointment_path(@appointment), method: :patch, params: { appointment: { status: 'Completed' } }, class: "orange-btn mx-2" %>
      <% end %>
    </div>
  </div>
</div>
